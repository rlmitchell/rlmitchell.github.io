{"categories":[{"title":"kvm","uri":"https://example.com/categories/kvm/"},{"title":"linux","uri":"https://example.com/categories/linux/"},{"title":"ubuntu","uri":"https://example.com/categories/ubuntu/"},{"title":"ubuntu 20.04","uri":"https://example.com/categories/ubuntu-20.04/"}],"posts":[{"content":"How to save the state of a running KVM/qemu VM Virtualbox and VMWare player have a nice feature that lets you \u0026ldquo;pause\u0026rdquo; a VM and save its state/memory to disk. Here\u0026rsquo;s how to do that with KVM.\nList your running VMs $ virsh list Id Name State -------------------------------- 6 php_sandbox.1 running 13 website running $  \u0026ldquo;Suspend\u0026rdquo; the VM $ virsh managedsave php_sandbox.1 Domain php_sandbox.1 state saved by libvirt $  The managedsave command will take some time as it copies the VM\u0026rsquo;s RAM to disk.\nSaved state location The VM\u0026rsquo;s memory is dumped to a disk file:\n$ ll /var/lib/libvirt/qemu/save/ total 4054736 drwxr-xr-x 2 libvirt-qemu kvm 4096 May 30 19:40 ./ drwxr-x--- 11 libvirt-qemu kvm 4096 May 30 19:40 ../ -rw------- 1 root root 4152032846 May 30 19:40 php_sandbox.1.save $  \u0026ldquo;Resuming\u0026rdquo; the VM Simply start the vm with virsh or virt-manager.\n$ virsh start php_sandbox.1 Domain php_sandbox.1 started $  ","id":0,"section":"posts","summary":"How to save the state of a running KVM/qemu VM Virtualbox and VMWare player have a nice feature that lets you \u0026ldquo;pause\u0026rdquo; a VM and save its state/memory to disk. Here\u0026rsquo;s how to do that with KVM.\nList your running VMs $ virsh list Id Name State -------------------------------- 6 php_sandbox.1 running 13 website running $  \u0026ldquo;Suspend\u0026rdquo; the VM $ virsh managedsave php_sandbox.1 Domain php_sandbox.1 state saved by libvirt $  The managedsave command will take some time as it copies the VM\u0026rsquo;s RAM to disk.","tags":["linux","kvm"],"title":"How to save the state of a KVM/qemu VM","uri":"https://example.com/2022/05/kvm-vm-save-state/","year":"2022"},{"content":"How to disable screen blanking in Ubuntu 20.04 After disabling my screensaver and lockscreen on a KVM/qemu virtual machine, I noticed the screen would still go blank after a period of inactivity. Sometimes this resulted in the X server crashing with the following error in the syslog:\nspice-vdagent[2223]: Unable to find a display id for output index 1)\nThis script uses the xset preferences utility to set blanking off and disables the DPMS energy features. This seems to have solved the problem with the VM.\n#!/bin/bash export DISPLAY=:0.0 xset s off xset s noblank xset -dpms  The script is also on github\n","id":1,"section":"posts","summary":"How to disable screen blanking in Ubuntu 20.04 After disabling my screensaver and lockscreen on a KVM/qemu virtual machine, I noticed the screen would still go blank after a period of inactivity. Sometimes this resulted in the X server crashing with the following error in the syslog:\nspice-vdagent[2223]: Unable to find a display id for output index 1)\nThis script uses the xset preferences utility to set blanking off and disables the DPMS energy features.","tags":["bash","linux","ubuntu","xset"],"title":"Disabling screen blanking in Ubuntu 20.04","uri":"https://example.com/2022/05/ubuntu-2004-disable-screen-blanking/","year":"2022"}],"tags":[{"title":"bash","uri":"https://example.com/tags/bash/"},{"title":"kvm","uri":"https://example.com/tags/kvm/"},{"title":"linux","uri":"https://example.com/tags/linux/"},{"title":"ubuntu","uri":"https://example.com/tags/ubuntu/"},{"title":"xset","uri":"https://example.com/tags/xset/"}]}